From a716e1bb8a63cfb99139389ea9cb07802c3bf37a Mon Sep 17 00:00:00 2001
From: Eugeniy Paltsev <Eugeniy.Paltsev@synopsys.com>
Date: Tue, 9 Jan 2018 20:18:37 +0300
Subject: [PATCH 55/59] ARC: HSDK: hsdk cmd: fix error message

Signed-off-by: Eugeniy Paltsev <Eugeniy.Paltsev@synopsys.com>
---
 board/synopsys/hsdk/hsdk-cmd.c | 16 ++++++++++++----
 1 file changed, 12 insertions(+), 4 deletions(-)

diff --git a/board/synopsys/hsdk/hsdk-cmd.c b/board/synopsys/hsdk/hsdk-cmd.c
index 2a619ee126..94c0c8d146 100644
--- a/board/synopsys/hsdk/hsdk-cmd.c
+++ b/board/synopsys/hsdk/hsdk-cmd.c
@@ -260,8 +260,12 @@ static int env_validate_common(u32 index, const struct hsdk_env_map_common *map)
 
 	/* Check environment boundary */
 	if (set && (value < min || value > max)) {
-		pr_err("Variable \'%s\' must be between %#x and %#x\n",
-			map[index].env_name, min, max);
+		if (map[index].type == ENV_HEX)
+			pr_err("Variable \'%s\' must be between %#x and %#x\n",
+				map[index].env_name, min, max);
+		else
+			pr_err("Variable \'%s\' must be between %u and %u\n",
+				map[index].env_name, min, max);
 
 		return -EINVAL;
 	}
@@ -294,8 +298,12 @@ static int env_validate_core(u32 index, const struct hsdk_env_map_core *map)
 
 		/* Check environment boundary */
 		if (set && (value < min || value > max)) {
-			pr_err("Variable \'%s_%u\' must be between %#x and %#x\n",
-				map[index].env_name, i, min, max);
+			if (map[index].type == ENV_HEX)
+				pr_err("Variable \'%s_%u\' must be between %#x and %#x\n",
+					map[index].env_name, i, min, max);
+			else
+				pr_err("Variable \'%s_%u\' must be between %d and %d\n",
+					map[index].env_name, i, min, max);
 
 			return -EINVAL;
 		}
-- 
2.11.0

