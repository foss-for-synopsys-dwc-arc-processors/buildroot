From 69c639d947684c2abaff849ddd09663dfbfb2e7d Mon Sep 17 00:00:00 2001
From: Eugeniy Paltsev <Eugeniy.Paltsev@synopsys.com>
Date: Tue, 9 Jan 2018 20:17:03 +0300
Subject: [PATCH 54/59] ARC: HSDK: CLK: rename system clocks

Signed-off-by: Eugeniy Paltsev <Eugeniy.Paltsev@synopsys.com>
---
 arch/arc/dts/hsdk.dts          |  8 ++++----
 board/synopsys/hsdk/hsdk-cmd.c | 38 +++++++++++++++++++-------------------
 2 files changed, 23 insertions(+), 23 deletions(-)

diff --git a/arch/arc/dts/hsdk.dts b/arch/arc/dts/hsdk.dts
index 3c7f36da94..28c9eb0c97 100644
--- a/arch/arc/dts/hsdk.dts
+++ b/arch/arc/dts/hsdk.dts
@@ -35,10 +35,10 @@
 			 <&cgu_clk 24>, <&cgu_clk 25>;
 		clock-names = "cpu-pll", "sys-pll", "tun-pll", "ddr-clk",
 			      "cpu-clk", "hdmi-pll", "tun-clk", "hdmi-clk",
-			      "sys-apb", "sys-axi", "sys-eth", "sys-usb",
-			      "sys-sdio", "sys-hdmi", "sys-gfx-core", "sys-gfx-dma",
-			      "sys-gfx-cfg", "sys-dmac-core", "sys-dmac-cfg", "sys-sdio-ref",
-			      "sys-spi", "sys-i2c", "sys-uart", "sys-ebi",
+			      "apb-clk", "axi-clk", "eth-clk", "usb-clk",
+			      "sdio-clk", "hdmi-sys-clk", "gfx-core-clk", "gfx-dma-clk",
+			      "gfx-cfg-clk", "dmac-core-clk", "dmac-cfg-clk", "sdio-ref-clk",
+			      "spi-clk", "i2c-clk", "uart-clk", "ebi-clk",
 			      "rom-clk", "pwm-clk";
 	};
 
diff --git a/board/synopsys/hsdk/hsdk-cmd.c b/board/synopsys/hsdk/hsdk-cmd.c
index 8f25033b23..2a619ee126 100644
--- a/board/synopsys/hsdk/hsdk-cmd.c
+++ b/board/synopsys/hsdk/hsdk-cmd.c
@@ -852,7 +852,7 @@ static void setup_clocks(void)
 
 	if (env_common.axi_freq.set) {
 		rate = env_common.axi_freq.val * HZ_IN_MHZ;
-		soc_clk_ctl("sys-axi", &rate, CLK_SET | CLK_ON);
+		soc_clk_ctl("axi-clk", &rate, CLK_SET | CLK_ON);
 	}
 }
 
@@ -1208,7 +1208,7 @@ static int do_hsdk_clock_get(cmd_tbl_t *cmdtp, int flag, int argc, char * const
 	if (ret)
 		return CMD_RET_FAILURE;
 
-	ret = soc_clk_ctl("sys-axi", &rate, CLK_GET);
+	ret = soc_clk_ctl("axi-clk", &rate, CLK_GET);
 	if (ret)
 		return CMD_RET_FAILURE;
 
@@ -1226,7 +1226,7 @@ static int do_hsdk_clock_print(cmd_tbl_t *cmdtp, int flag, int argc, char * cons
 	/* Main clocks */
 	soc_clk_ctl("cpu-clk", NULL, CLK_PRINT);
 	soc_clk_ctl("tun-clk", NULL, CLK_PRINT);
-	soc_clk_ctl("sys-axi", NULL, CLK_PRINT);
+	soc_clk_ctl("axi-clk", NULL, CLK_PRINT);
 	soc_clk_ctl("ddr-clk", NULL, CLK_PRINT);
 
 	return CMD_RET_SUCCESS;
@@ -1241,22 +1241,22 @@ static int do_hsdk_clock_print_all(cmd_tbl_t *cmdtp, int flag, int argc, char *
 
 	/* SYS clock domain */
 	soc_clk_ctl("sys-pll", NULL, CLK_PRINT);
-	soc_clk_ctl("sys-apb", NULL, CLK_PRINT);
-	soc_clk_ctl("sys-axi", NULL, CLK_PRINT);
-	soc_clk_ctl("sys-eth", NULL, CLK_PRINT);
-	soc_clk_ctl("sys-usb", NULL, CLK_PRINT);
-	soc_clk_ctl("sys-sdio", NULL, CLK_PRINT);
-/*	soc_clk_ctl("sys-hdmi", NULL, CLK_PRINT); */
-	soc_clk_ctl("sys-gfx-core", NULL, CLK_PRINT);
-	soc_clk_ctl("sys-gfx-dma", NULL, CLK_PRINT);
-	soc_clk_ctl("sys-gfx-cfg", NULL, CLK_PRINT);
-	soc_clk_ctl("sys-dmac-core", NULL, CLK_PRINT);
-	soc_clk_ctl("sys-dmac-cfg", NULL, CLK_PRINT);
-	soc_clk_ctl("sys-sdio-ref", NULL, CLK_PRINT);
-	soc_clk_ctl("sys-spi", NULL, CLK_PRINT);
-	soc_clk_ctl("sys-i2c", NULL, CLK_PRINT);
-/*	soc_clk_ctl("sys-ebi", NULL, CLK_PRINT); */
-	soc_clk_ctl("sys-uart", NULL, CLK_PRINT);
+	soc_clk_ctl("apb-clk", NULL, CLK_PRINT);
+	soc_clk_ctl("axi-clk", NULL, CLK_PRINT);
+	soc_clk_ctl("eth-clk", NULL, CLK_PRINT);
+	soc_clk_ctl("usb-clk", NULL, CLK_PRINT);
+	soc_clk_ctl("sdio-clk", NULL, CLK_PRINT);
+/*	soc_clk_ctl("hdmi-sys-clk", NULL, CLK_PRINT); */
+	soc_clk_ctl("gfx-core-clk", NULL, CLK_PRINT);
+	soc_clk_ctl("gfx-dma-clk", NULL, CLK_PRINT);
+	soc_clk_ctl("gfx-cfg-clk", NULL, CLK_PRINT);
+	soc_clk_ctl("dmac-core-clk", NULL, CLK_PRINT);
+	soc_clk_ctl("dmac-cfg-clk", NULL, CLK_PRINT);
+	soc_clk_ctl("sdio-ref-clk", NULL, CLK_PRINT);
+	soc_clk_ctl("spi-clk", NULL, CLK_PRINT);
+	soc_clk_ctl("i2c-clk", NULL, CLK_PRINT);
+/*	soc_clk_ctl("ebi-clk", NULL, CLK_PRINT); */
+	soc_clk_ctl("uart-clk", NULL, CLK_PRINT);
 	printf("\n");
 
 	/* DDR clock domain */
-- 
2.11.0

