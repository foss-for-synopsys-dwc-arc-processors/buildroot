From 825f820acf405f6af4bc890b2e24155e16aa0271 Mon Sep 17 00:00:00 2001
From: Eugeniy Paltsev <Eugeniy.Paltsev@synopsys.com>
Date: Tue, 28 Nov 2017 15:36:35 +0300
Subject: [PATCH 09/46] ARC: HSDK: DTS: switch to cgu clock

Signed-off-by: Eugeniy Paltsev <Eugeniy.Paltsev@synopsys.com>
---
 arch/arc/dts/hsdk.dts | 20 ++++++++++++++++++--
 1 file changed, 18 insertions(+), 2 deletions(-)

diff --git a/arch/arc/dts/hsdk.dts b/arch/arc/dts/hsdk.dts
index 9a2090f3ea..0527e1341b 100644
--- a/arch/arc/dts/hsdk.dts
+++ b/arch/arc/dts/hsdk.dts
@@ -25,8 +25,24 @@
 	};
 
 	clk-fmeas {
-		clocks = <&cpu_clk>, <&sys_clk>, <&tun_clk>, <&ddr_clk>;
-		clock-names = "cpu-clk", "sys-clk", "tun-clk", "ddr-clk";
+		clocks = <&cgu_clk 0>, <&cgu_clk 3>, <&cgu_clk 20>, <&cgu_clk 2>,
+			 <&cgu_clk 1>, <&cgu_clk 22>, <&cgu_clk 21>, <&cgu_clk 23>,
+			 <&cgu_clk 4>, <&cgu_clk 5>, <&cgu_clk 6>, <&cgu_clk 7>,
+			 <&cgu_clk 8>, <&cgu_clk 9>, <&cgu_clk 10>, <&cgu_clk 11>,
+			 <&cgu_clk 12>, <&cgu_clk 13>, <&cgu_clk 14>, <&cgu_clk 15>,
+			 <&cgu_clk 16>, <&cgu_clk 17>, <&cgu_clk 18>, <&cgu_clk 19>;
+		clock-names = "cpu-pll", "sys-pll", "tun-pll", "ddr-clk",
+			      "cpu-clk", "hdmi-pll", "tun-clk", "hdmi-clk",
+			      "sys-apb", "sys-axi", "sys-eth", "sys-usb",
+			      "sys-sdio", "sys-hdmi", "sys-gfx-core", "sys-gfx-dma",
+			      "sys-gfx-cfg", "sys-dmac-core", "sys-dmac-cfg", "sys-sdio-ref",
+			      "sys-spi", "sys-i2c", "sys-uart", "sys-ebi";
+	};
+
+	cgu_clk: cgu-clk@f0000000 {
+		compatible = "snps,hsdk-cgu-clock";
+		reg = <0xf0000000 0x10>, <0xf00014B8 0x4>;
+		#clock-cells = <1>;
 	};
 
 	cpu_clk: cpu-clk@f0000000 {
-- 
2.11.0

